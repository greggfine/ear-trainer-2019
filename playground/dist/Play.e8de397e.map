{"version":3,"sources":["Play.js"],"names":["audioCtx","AudioContext","Waveform","btnGroup","document","querySelector","events","addEventListener","e","selectWaveform","target","id","waveformId","oscType","waveform","Sound","freq","gainVal","offset","osc","createOscillator","amp","createGain","type","frequency","value","connect","destination","playSound","start","currentTime","stop","clearInterval","timer","Play","oscInput","playBtn","sound","console","log","init","textContent","classList","toggle","stopSound"],"mappings":"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","file":"Play.e8de397e.map","sourceRoot":"..","sourcesContent":["var audioCtx = new AudioContext();\n\nclass Waveform {\n    constructor(){\n        this.btnGroup = document.querySelector('#btn-group');\n        this.events();\n    }\n    events(){\n        this.btnGroup.addEventListener('click', (e) => this.selectWaveform(e.target.id));\n    }\n    selectWaveform(waveformId){\n        this.oscType = waveformId;\n    }\n}\nvar waveform = new Waveform();\n\n\n\nclass Sound {\n    constructor(freq=440.0, gainVal=0.2, oscType='sine', offset=0){\n        this.freq = freq;\n        this.gainVal = gainVal;\n        this.oscType = oscType;\n        this.offset = offset;\n    }\n\n    init(){\n        this.osc = audioCtx.createOscillator();\n        this.amp = audioCtx.createGain();\n        this.osc.type = this.oscType;\n        this.osc.frequency.value = this.freq;\n        this.osc.connect(this.amp);\n        this.amp.connect(audioCtx.destination);\n        this.playSound();\n    }\n\n    playSound(){\n        this.osc.start(audioCtx.currentTime + this.offset);\n    }\n\n    stopSound(){\n        this.osc.stop(audioCtx.currentTime);\n        clearInterval(this.timer)\n    }\n}\n\nclass Play {\n    constructor(oscInput, offset) {\n        this.playBtn = document.querySelector('#play-btn');\n        this.events();\n        this.sound = false;\n        this.osc = oscInput;\n        this.offset = offset;\n    }\n    events() {\n        this.playBtn.addEventListener('click', () => this.playSound(this.osc, this.offset));\n    }\n    playSound() {\n        if(!this.sound){\n            console.log(this.osc.oscType)\n            this.sound = new Sound(400, 0.5, this.osc.oscType, this.offset);\n            this.sound.init();\n            this.playBtn.textContent = 'Stop';\n            this.playBtn.classList.toggle('btn-danger');\n        } else {\n            this.sound.stopSound();\n            this.sound = false;\n            this.playBtn.textContent = 'Play';\n            this.playBtn.classList.toggle('btn-danger');\n        }\n    }\n}\n\nnew Play(waveform, 0);\n// new Play(0);\n"]}